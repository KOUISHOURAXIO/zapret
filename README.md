Zapret - Автономное средство противодействия DPI.

## Оригинальные репозитории
[Zapret](https://github.com/bol-van/zapret) — основная утилита для обхода блокировок.  
[Winsw](https://github.com/winsw/winsw) — инструмент для работы с Windows-службами.

## Поддержка проекта
Вы можете поддержать проект, поставив :star: этому репозиторию (сверху справа этой страницы)

Также, вы можете материально поддержать разработчика zapret [тут](https://github.com/bol-van/zapret/issues/590#issuecomment-2408866758) или, разработчика zapret by koushouraxio [тут](https://www.donationalerts.com/r/kouishouraxio)

## Примечания
 - На некоторых сборках Windows программа может не запускаться или не устанавливаться корректно.  
 В таком случае попробуйте запустить .bat-файлы через командную строку (CMD) с правами администратора.  
 - Убедитесь, что все файлы из архива находятся в одной папке, путь к которой указан на английском языке (без кириллицы) и не расположен на рабочем столе (например, `C:\zapret`), для обеспечения стабильной работы.  
 - Для пользователей **РОСТЕЛЕКОМ** рекомендуется использовать **general (ALT 2).bat** и **service (ALT 2).bat**, так как они лучше всего подходят для этого провайдера.
 - Для тех у кого не работает **Discord/Youtube** рекомендуется использовать **general (ALT 3).bat**.

## Лицензирование
Проект распространяется на условиях лицензии [MIT](https://github.com/KOUISHOURAXIO/zapret/blob/main/LICENSE.txt)

> [!CAUTION]
>
> ### АНТИВИРУСЫ
> WinDivert может вызвать реакцию антивируса.
> WinDivert - это инструмент для перехвата и фильтрации трафика, необходимый для работы zapret.
> Замена iptables и NFQUEUE в Linux, которых нет под Windows.
> Он может использоваться как хорошими, так и плохими программами, но сам по себе не является вирусом.
> Драйвер WinDivert64.sys подписан для возможности загрузки в 64-битное ядро Windows.
> Но антивирусы склонны относить подобное к классам повышенного риска или хакерским инструментам.
> В случае проблем используйте исключения или выключайте антивирус совсем.
>
> **Выдержка из [`readme.md`](https://github.com/bol-van/zapret-win-bundle/blob/master/readme.md#%D0%B0%D0%BD%D1%82%D0%B8%D0%B2%D0%B8%D1%80%D1%83%D1%81%D1%8B) репозитория [bol-van/zapret-win-bundle](https://github.com/bol-van/zapret-win-bundle)*

> [!IMPORTANT]
> Все файлы в папке [`bin`](./bin) взяты из [zapret-win-bundle/zapret-winws](https://github.com/bol-van/zapret-win-bundle/tree/master/zapret-winws). Вы можете это проверить с помощью хэшей/контрольных сумм.

## Использование

1. Загрузите архив (zip/rar) со [страницы последнего релиза](https://github.com/KOUISHOURAXIO/zapret/releases/latest)

2. Распакуйте содержимое архива по пути, который не содержит кириллицу/спец. символы

3. Запустите нужный файл

## Краткие описания файлов

 - **`update_list.bat`** - Обновляет список блокировок РКН для актуальной работы программы.
 - **`general (ALT 1).bat`** - Запускает обход блокировок в стандартном режиме.
 - **`general (ALT ♾️).bat`** - Альтернативный вариант запуска с другими настройками.

 ## Работа с автозапуском (службы)
 - **`service (ALT 1).bat`** - Устанавливает программу в автозапуск как службу Windows и запускает её.
 - **`service (ALT ♾️).bat`** - Альтернативный вариант установки службы с другими параметрами.
 - **`service_remove.bat`** - Останавливает службу и удаляет её из автозапуска.

 ## Файлы конфигурации
 - `list.txt`  
 Статичный список доменов, заблокированных РКН. Обновляется с помощью `update_list.bat`.  
 Также потребляет больше всех оперативной памяти, если нужно сэкономить и вам нет нужны обходить **ВСЕ** блокировки РКН, можете его удалить и создать новый, пустой файл.
 - `list-additional.txt`  
 Содержит дополнительные домены, такие как Discord, YouTube, Cloudflare.  
 Можете вручную добавлять сюда нужные вам домены.
 - `list-ipset.txt`  
 Список IP-адресов, которые необходимо включить в обход.
 - `list-exclude.txt`  
 Позволяет исключить определённые домены из обхода блокировок.

### Требуется цифровая подпись драйвера WinDivert (Windows 7)

- Замените файлы `WinDivert.dll` и `WinDivert64.sys` в папке [`bin`](./bin) на одноименные из [zapret-win-bundle/win7](https://github.com/bol-van/zapret-win-bundle/tree/master/win7)

### Не работает вместе с VPN

- Отключите функцию **TUN** (Tunneling) в настройках вашего VPN

### Не нашли своей проблемы

* Создайте её [тут](https://github.com/KOUISHOURAXIO/zapret/issues)
